/*! site 28-07-2014 */
function trim(a){return a.replace(/^\s+|\s+$/g,"")}var py=function(a){function b(a,b){""!=a&&""!=b&&$.ajax({url:"/doLogin",type:"post",dataType:"json",data:{name:a,password:b},success:function(a){a.success?window.location="/admin":($("#login_msg").text(a.message),$("#password").focus())}})}return a.init=function(){$("#J-adminLogin").on("click",function(){a.loadPage()})},a.loadPage=function(){$.get("login.html",function(b){$(document.body).append(b),$("#username").focus(),a.submit(),a.close(),a.enter()})},a.close=function(){$("#J_login_close").on("click",function(){$(document.body).find(".login_shade").prev().remove(),$(document.body).find(".login_shade").remove(),$(document.body).find(".login_container").remove()})},a.submit=function(){$("#J-loginSubmit").on("click",function(){var a=$("#username"),c=$("#password"),d=$("#login_msg"),e=trim($("#username").val()),f=trim($("#password").val());return""==e?(d.text("用户名为空"),void a.focus()):""==f?(d.text("密码为空"),void c.focus()):(c.val($.md5(f)),void b(e,$.md5(f)))})},a.enter=function(){$(".login_form").keydown(function(a){var a=a||event,b=a.which||a.keyCode;13==b&&$(".login_btn").trigger("click")})},a}(py||{});$(function(){py.init();var a=$("#myCarousel");a.length>0&&a.carousel({interval:4e3})});